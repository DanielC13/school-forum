{"version":3,"sources":["UserContext.js","containers/Layout.js","img/random.jpg","containers/Login.js","components/tools.js","components/announcement/Announcement.js","components/Loading.js","components/course/Course.js","components/group/Group.js","routes.js","App.js","index.js"],"names":["UserContext","createContext","Content","Layout","Header","Footer","Sider","CusLayout","Menu","SubMenu","props","onCollapse","collapsed","setState","customTrigger","React","createElement","state","MenuUnfoldOutlined","MenuFoldOutlined","className","style","fontSize","marginTop","logout","a","cookies","axios","post","i","status","remove","document","location","reload","fetchCourse","callback","console","log","get","request","data","results","theme","course","this","user","context","pathnames","pathname","split","filter","x","minHeight","overflow","trigger","collapsible","height","position","left","zIndex","mode","Item","icon","NotificationOutlined","to","BookOutlined","is_members","length","TeamOutlined","marginLeft","transition","padding","backgroundColor","width","extra","placement","title","onConfirm","okText","cancelText","QuestionCircleOutlined","color","type","top","marginRight","username","margin","map","path","slice","join","find","e","name","onClick","history","push","children","textAlign","Component","contextType","withCookies","LoginForm","useCookies","setCookie","useState","error","seterror","onFinish","values","opt","password","access_token","window","initialValues","remember","rules","required","message","prefix","UserOutlined","placeholder","LockOutlined","showIcon","valuePropName","noStyle","href","htmlType","src","randomimg","alt","PasswordResetForm","loading","setloading","value","email","then","res","MailOutlined","closable","PasswordResetConfirm","new_password1","new_password2","uid","match","params","token","validator","_","Promise","reject","Error","resolve","hasFeedback","KeyOutlined","getFieldValue","float","replace","convertUTC","time","localtime","Date","toDateString","getHours","getMinutes","fileName","file","pop","handleIconRender","listType","fileSufIconList","FilePdfTwoTone","suf","FileExcelTwoTone","FileWordTwoTone","FilePptTwoTone","FileZipTwoTone","FileTextTwoTone","PlaySquareTwoTone","PictureTwoTone","LoadingOutlined","PaperClipOutlined","forEach","item","includes","substr","lastIndexOf","Announcement","setStatus","setData","page","setPage","setLoading","hasMore","setHasmore","useContext","useEffect","fetchData","is_staff","initialLoad","pageStart","loadMore","next","newdata","concat","itemLayout","dataSource","renderItem","id","Meta","description","author","date_posted","indicator","AnnouncementDetail","setItem","setError","Response","deletepost","delete","delete_successful","pk","display","EditOutlined","postid","ExclamationCircleOutlined","DeleteOutlined","danger","content","defaultFileList","announcefile","f","url","iconRender","disabled","AnnouncementAdd","fd","FormData","append","upload","originFileObj","put","headers","validateMessages","types","number","range","label","TextArea","getValueFromEvent","Array","isArray","fileList","customRequest","onSuccess","setTimeout","maxWidth","UploadOutlined","size","AnnouncementEdit","setPost","loadData","useLayoutEffect","newupload","oldupload","deleteoldupload","Loading","placeItems","spin","Card","Course","flexWrap","hoverable","CoursePost","CoursePostAdd","Group","group","created_by","imageStyle","GroupPost","resetpage","withRouter","verify","exact","component","from","defaults","baseURL","App","setUser","ProviderValue","useMemo","removeCookie","tkn","common","verification","setverification","userdetail","rel","CookiesProvider","Provider","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.53676103.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const UserContext = createContext(null);\r\n","import {\r\n  Layout,\r\n  Menu,\r\n  Breadcrumb,\r\n  Button,\r\n  PageHeader,\r\n  Popconfirm,\r\n  Divider,\r\n} from \"antd\";\r\nimport {\r\n  DesktopOutlined,\r\n  NotificationOutlined,\r\n  FileOutlined,\r\n  TeamOutlined,\r\n  UserOutlined,\r\n  MenuUnfoldOutlined,\r\n  MenuFoldOutlined,\r\n  BookOutlined,\r\n  LogoutOutlined,\r\n  HomeOutlined,\r\n  QuestionCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport React, { useContext } from \"react\";\r\nimport \"./Layout.css\";\r\nimport { instanceOf } from \"prop-types\";\r\nimport { withCookies, Cookies } from \"react-cookie\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../UserContext\";\r\nimport { FiLogOut } from \"react-icons/fi\";\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nclass CusLayout extends React.Component {\r\n  static propTypes = {\r\n    cookies: instanceOf(Cookies).isRequired,\r\n  };\r\n\r\n  static contextType = UserContext;\r\n  constructor(props) {\r\n    super(props);\r\n    const { cookies } = props;\r\n    this.state = {\r\n      collapsed: true,\r\n      theme: \"dark\",\r\n      course: null,\r\n    };\r\n    // console.log(this.state.theme, typeof this.state.theme);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.fetchCourse((data) => this.setState({ course: data }));\r\n  }\r\n\r\n  onCollapse = (collapsed) => {\r\n    // console.log(collapsed);\r\n    this.setState({ collapsed });\r\n  };\r\n\r\n  customTrigger = () => {\r\n    return React.createElement(\r\n      this.state.collapsed ? MenuUnfoldOutlined : MenuFoldOutlined,\r\n      {\r\n        className: \"anticon anticon-left\",\r\n        style: {\r\n          // color: this.state.theme == \"light\" ? \"black\" : \"white\",\r\n          fontSize: \"20px\",\r\n          marginTop: \"15px\",\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  logout = async () => {\r\n    const { cookies } = this.props;\r\n    let i = await axios.post(\"dj-rest-auth/logout/\");\r\n    let res = await i.status;\r\n    if (res == 200) {\r\n      cookies.remove(\"tkn\");\r\n      document.location.reload();\r\n    }\r\n  };\r\n\r\n  fetchCourse = async (callback) => {\r\n    console.log(\"fdf\");\r\n    let request = await axios.get(\"api/course/\");\r\n    if (request.status == 200) {\r\n      // console.log(request.data.results);\r\n      callback(request.data.results);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { user } = this.context;\r\n    const { collapsed } = this.state;\r\n    const pathnames = this.props.pathname.split(\"/\").filter((x) => x);\r\n    // console.log(user);\r\n    return user && this.state.course ? (\r\n      <Layout style={{ minHeight: \"100vh\", overflow: \"hidden\" }}>\r\n        <Sider\r\n          trigger={this.customTrigger()}\r\n          collapsible\r\n          collapsed={collapsed}\r\n          onCollapse={this.onCollapse}\r\n          style={{\r\n            overflow: \"auto\",\r\n            height: \"100vh\",\r\n            position: \"fixed\",\r\n            left: 0,\r\n            zIndex: 1,\r\n          }}\r\n          theme=\"dark\"\r\n        >\r\n          <div className=\"logo\" />\r\n          <Menu\r\n            // defaultSelectedKeys={[\"1\"]}\r\n            mode=\"inline\"\r\n            // style={{\r\n            //   color:\r\n            //     this.state.theme == \"light\" ? \"rgba(0,0,0,0.87)\" : \"#ECECEC\",\r\n            //   backgroundColor:\r\n            //     this.state.theme == \"light\" ? \"rgba(0,0,0,0.87)\" : \"#242424\",\r\n            // }}\r\n            theme=\"dark\"\r\n          >\r\n            <Menu.Item key=\"1\" icon={<NotificationOutlined />}>\r\n              <Link to=\"/announcement\">Announcement</Link>\r\n            </Menu.Item>\r\n            <Menu.Item key=\"2\" icon={<BookOutlined />}>\r\n              <Link to=\"/course\">Course</Link>\r\n            </Menu.Item>\r\n            {user.is_members.length ? (\r\n              <>\r\n                {/* <SubMenu\r\n                key=\"sub1\"\r\n                icon={<TeamOutlined />}\r\n                title=\"Group\"\r\n                onTitleClick={() => this.props.history.push(\"/group\")}\r\n              >\r\n                {user.is_members.map((group) => (\r\n                  <Menu.Item key={group.id}>\r\n                    <Link to={`/group/${group.id}`}>{group.name}</Link>\r\n                  </Menu.Item>\r\n                ))}\r\n              </SubMenu> */}\r\n                <Menu.Item key=\"3\" icon={<TeamOutlined />}>\r\n                  <Link to=\"/group\">Group</Link>\r\n                </Menu.Item>\r\n              </>\r\n            ) : (\r\n              <Menu.Item key=\"3\" icon={<TeamOutlined />}>\r\n                <Link to=\"/group\">Group</Link>\r\n              </Menu.Item>\r\n            )}\r\n          </Menu>\r\n        </Sider>\r\n        <Layout\r\n          className=\"site-layout\"\r\n          style={{\r\n            marginLeft: collapsed ? 80 : 200,\r\n            zIndex: 0,\r\n            transition: \".2s\",\r\n          }}\r\n        >\r\n          <PageHeader\r\n            className=\"site-layout-background\"\r\n            style={{\r\n              padding: \"10px\",\r\n              backgroundColor: \"#002140\",\r\n              position: \"fixed\",\r\n              width: \"100%\",\r\n              left: \"0\",\r\n              zIndex: \"1\",\r\n            }}\r\n            extra={[\r\n              <Popconfirm\r\n                placement=\"bottomRight\"\r\n                title=\"You about to logout, are you sure?\"\r\n                onConfirm={this.logout}\r\n                okText=\"Yes\"\r\n                cancelText=\"No\"\r\n                icon={<QuestionCircleOutlined style={{ color: \"red\" }} />}\r\n              >\r\n                <Button key=\"1\" type=\"primary\">\r\n                  <FiLogOut\r\n                    style={{\r\n                      position: \"relative\",\r\n                      top: \"3px\",\r\n                      marginRight: \"3px\",\r\n                    }}\r\n                  />\r\n                  {user.username}\r\n                </Button>\r\n              </Popconfirm>,\r\n            ]}\r\n          ></PageHeader>\r\n          <Content\r\n            style={{\r\n              marginTop: \"60px\",\r\n              zIndex: \"0\",\r\n              backgroundColor: \"#EAEAEA\",\r\n            }}\r\n          >\r\n            <div>\r\n              <Breadcrumb\r\n                style={{\r\n                  margin: \"15px 0 0 25px\",\r\n                  position: \"relative\",\r\n                  top: \"5px\",\r\n                }}\r\n              >\r\n                {pathnames.map((x, i) => {\r\n                  let path = `/${pathnames.slice(0, i + 1).join(\"/\")}`;\r\n                  {\r\n                    /* console.log(path, pathnames); */\r\n                  }\r\n                  if (pathnames[0] == \"course\" && pathnames.length > 1) {\r\n                    {\r\n                      /* console.log(\r\n                      this.state.course.find((e) => e.name == pathnames[1])\r\n                    ); */\r\n                    }\r\n                    return (\r\n                      <Breadcrumb.Item>\r\n                        <Link\r\n                          to={{\r\n                            pathname: path,\r\n                            state: {\r\n                              course: this.state.course.find(\r\n                                (e) => e.name == pathnames[1]\r\n                              ),\r\n                            },\r\n                          }}\r\n                        >\r\n                          {x}\r\n                        </Link>\r\n                      </Breadcrumb.Item>\r\n                    );\r\n                  }\r\n                  return (\r\n                    <Breadcrumb.Item>\r\n                      <Link onClick={() => this.props.history.push(path)}>\r\n                        {x}\r\n                      </Link>\r\n                    </Breadcrumb.Item>\r\n                  );\r\n                })}\r\n              </Breadcrumb>\r\n            </div>\r\n            <div\r\n              style={{\r\n                margin: \"30px\",\r\n                padding: \"30px\",\r\n                backgroundColor: \"white\",\r\n                minHeight: \"60vh\",\r\n              }}\r\n            >\r\n              {this.props.children}\r\n            </div>\r\n          </Content>\r\n          <Footer\r\n            style={{\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            Ant Design ©2018 Created by Ant UED\r\n          </Footer>\r\n        </Layout>\r\n      </Layout>\r\n    ) : (\r\n      <span></span>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withCookies(CusLayout);\r\n","export default __webpack_public_path__ + \"static/media/random.a2c77e76.jpg\";","import { Alert, Form, Input, Button, Checkbox } from \"antd\";\r\nimport {\r\n  UserOutlined,\r\n  LockOutlined,\r\n  MailOutlined,\r\n  KeyOutlined,\r\n} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport \"./Login.css\";\r\nimport randomimg from \"../img/random.jpg\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const LoginForm = () => {\r\n  const [cookies, setCookie, removeCookie] = useCookies([\"token\"]);\r\n  const [error, seterror] = useState(null);\r\n  const onFinish = async (values) => {\r\n    let opt = { path: \"/\" };\r\n    try {\r\n      let i = await axios.post(\"dj-rest-auth/login/\", {\r\n        username: values.username,\r\n        password: values.password,\r\n      });\r\n      setCookie(\"tkn\", i.data.access_token, opt);\r\n      window.location.reload();\r\n    } catch (error) {\r\n      seterror(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"con\">\r\n      <div className=\"inner-con\">\r\n        <div className=\"form-container\">\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={onFinish}\r\n          >\r\n            <h1>Login</h1>\r\n            <Form.Item\r\n              name=\"username\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please input your Username!\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"Username\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: \"Please input your Password!\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              {error ? (\r\n                <Alert\r\n                  message=\"Wrong username or password\"\r\n                  type=\"error\"\r\n                  showIcon\r\n                  style={{ fontSize: \"12px\" }}\r\n                />\r\n              ) : (\r\n                <span></span>\r\n              )}\r\n              <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                <Checkbox>Remember me</Checkbox>\r\n              </Form.Item>\r\n\r\n              <a className=\"login-form-forgot\" href=\"password-reset\">\r\n                Forgot password\r\n              </a>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                className=\"login-form-button\"\r\n              >\r\n                Log in\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n        <img\r\n          className=\"picture-container\"\r\n          src={randomimg}\r\n          alt=\"\"\r\n          width=\"100\"\r\n          height=\"100\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PasswordResetForm = () => {\r\n  const [error, seterror] = useState(null);\r\n  const [loading, setloading] = useState(false);\r\n  const onFinish = async (value) => {\r\n    try {\r\n      setloading(true);\r\n      let i = await axios\r\n        .post(\"dj-rest-auth/password/reset/\", {\r\n          email: value.email,\r\n        })\r\n        .then((res) => setloading(false));\r\n      seterror(false);\r\n    } catch (error) {\r\n      seterror(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"con\">\r\n      <div className=\"inner-con\">\r\n        <div className=\"form-container reset-form\">\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={onFinish}\r\n          >\r\n            <h1>Forgot password</h1>\r\n            <Form.Item\r\n              name=\"email\"\r\n              rules={[\r\n                { type: \"email\", message: \"The input is not valid E-mail!\" },\r\n                {\r\n                  required: true,\r\n                  message: \"Please input your Email!\",\r\n                },\r\n              ]}\r\n            >\r\n              <Input\r\n                prefix={<MailOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"Email\"\r\n              />\r\n            </Form.Item>\r\n            {error ? (\r\n              <Alert\r\n                message=\"Something went wrong...Please try again.\"\r\n                type=\"error\"\r\n                showIcon\r\n                closable\r\n                style={{ fontSize: \"12px\" }}\r\n              />\r\n            ) : error == null ? (\r\n              <span></span>\r\n            ) : (\r\n              <Alert\r\n                message=\"Password Reset Link has been sended,check your mail\"\r\n                type=\"success\"\r\n                showIcon\r\n                style={{ fontSize: \"12px\" }}\r\n              />\r\n            )}\r\n            <p>Reset Password link will be send to your email</p>\r\n            <Form.Item>\r\n              <Button type=\"primary\" loading={loading} htmlType=\"submit\">\r\n                Send Email\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n        <img\r\n          className=\"picture-container\"\r\n          src={randomimg}\r\n          alt=\"\"\r\n          width=\"100\"\r\n          height=\"100\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const PasswordResetConfirm = (props) => {\r\n  const [error, seterror] = useState(null);\r\n  const [loading, setloading] = useState(false);\r\n\r\n  const onFinish = async (value) => {\r\n    try {\r\n      setloading(true);\r\n      let i = await axios\r\n        .post(\"dj-rest-auth/password/reset/confirm/\", {\r\n          new_password1: value.new_password1,\r\n          new_password2: value.new_password2,\r\n          uid: props.match.params.uid,\r\n          token: props.match.params.token,\r\n        })\r\n        .then((res) => setloading(false));\r\n      seterror(false);\r\n    } catch (error) {\r\n      seterror(error);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"con\">\r\n      <div className=\"inner-con\">\r\n        <div className=\"form-container\">\r\n          {error || error == null ? (\r\n            <Form\r\n              name=\"normal_login\"\r\n              className=\"login-form\"\r\n              initialValues={{\r\n                remember: true,\r\n              }}\r\n              onFinish={onFinish}\r\n            >\r\n              <h1>Reset password</h1>\r\n              <Form.Item\r\n                name=\"new_password1\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your new password!\",\r\n                  },\r\n                  {\r\n                    validator: (_, password) => {\r\n                      if (password.length < 8 && password.length > 0) {\r\n                        return Promise.reject(\r\n                          new Error(\"Password cannot less than 8 letters\")\r\n                        );\r\n                      } else if (password.length >= 8) {\r\n                        return Promise.resolve();\r\n                      }\r\n                    },\r\n                  },\r\n                ]}\r\n                hasFeedback\r\n              >\r\n                <Input\r\n                  prefix={<KeyOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"New password\"\r\n                />\r\n              </Form.Item>\r\n              <Form.Item\r\n                name=\"new_password2\"\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: \"Please input your confirm password!\",\r\n                  },\r\n                  ({ getFieldValue }) => ({\r\n                    validator: (_, password) => {\r\n                      if (getFieldValue(\"new_password1\") !== password) {\r\n                        return Promise.reject(\r\n                          new Error(\r\n                            \"New password and confirm password must be the same!\"\r\n                          )\r\n                        );\r\n                      } else if (\r\n                        getFieldValue(\"new_password1\") == password &&\r\n                        password.length >= 8\r\n                      ) {\r\n                        return Promise.resolve();\r\n                      } else if (password.length < 8 && password.length > 0) {\r\n                        return Promise.reject(\r\n                          new Error(\"Password cannot less than 8 letters\")\r\n                        );\r\n                      }\r\n                    },\r\n                  }),\r\n                ]}\r\n                hasFeedback\r\n              >\r\n                <Input\r\n                  prefix={<KeyOutlined className=\"site-form-item-icon\" />}\r\n                  type=\"password\"\r\n                  placeholder=\"Confirm password\"\r\n                />\r\n              </Form.Item>\r\n              {error ? (\r\n                <Alert\r\n                  message=\"Something went wrong...Please try again.\"\r\n                  type=\"error\"\r\n                  showIcon\r\n                  style={{ fontSize: \"12px\" }}\r\n                />\r\n              ) : error == null ? (\r\n                <span></span>\r\n              ) : (\r\n                <Alert\r\n                  message=\"Password Reset Complete!\"\r\n                  type=\"success\"\r\n                  showIcon\r\n                  style={{ fontSize: \"12px\" }}\r\n                />\r\n              )}\r\n              <Form.Item>\r\n                <Button type=\"primary\" loading={loading} htmlType=\"submit\">\r\n                  Reset\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          ) : (\r\n            <>\r\n              <Alert\r\n                message=\"Reset password success!\"\r\n                type=\"success\"\r\n                showIcon\r\n                style={{ fontSize: \"15px\" }}\r\n              />\r\n              <p style={{ float: \"right\", fontSize: \"15px\" }}>\r\n                Return to{\" \"}\r\n                <Link to=\"/login\" replace>\r\n                  Log in\r\n                </Link>\r\n              </p>\r\n            </>\r\n          )}\r\n        </div>\r\n        <img\r\n          className=\"picture-container\"\r\n          src={randomimg}\r\n          alt=\"\"\r\n          width=\"100\"\r\n          height=\"100\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const convertUTC = (time) => {\r\n  var localtime = new Date(time);\r\n  return `${localtime.toDateString()} | ${localtime.getHours()}:${localtime.getMinutes()}`;\r\n};\r\n\r\nexport const fileType = (file) => {\r\n  return file.split(\".\").pop();\r\n};\r\n\r\nexport const fileName = (file) => {\r\n  if (file) return file.split(\"/\").pop();\r\n};\r\n","import React, { useLayoutEffect, useEffect, useState, useContext } from \"react\";\r\nimport {\r\n  List,\r\n  message,\r\n  Avatar,\r\n  Spin,\r\n  Space,\r\n  Image,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  InputNumber,\r\n  Upload,\r\n  Popconfirm,\r\n} from \"antd\";\r\nimport {\r\n  MessageOutlined,\r\n  UploadOutlined,\r\n  FilePdfTwoTone,\r\n  FileExcelTwoTone,\r\n  FileWordTwoTone,\r\n  FilePptTwoTone,\r\n  FileZipTwoTone,\r\n  FileTextTwoTone,\r\n  PlaySquareTwoTone,\r\n  PictureTwoTone,\r\n  LoadingOutlined,\r\n  PaperClipOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  ExclamationCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport axios from \"axios\";\r\nimport { convertUTC, fileType, fileName } from \"../tools\";\r\nimport FileViewer from \"react-file-viewer\";\r\nimport \"./Announcement.css\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\nconst handleIconRender = (file, listType) => {\r\n  const fileSufIconList = [\r\n    { type: <FilePdfTwoTone />, suf: [\".pdf\"] },\r\n    { type: <FileExcelTwoTone />, suf: [\".xlsx\", \".xls\", \".csv\"] },\r\n    { type: <FileWordTwoTone />, suf: [\".doc\", \".docx\"] },\r\n    { type: <FilePptTwoTone />, suf: [\".pptx\", \".ppt\", \"pptm\"] },\r\n    { type: <FileZipTwoTone />, suf: [\".zip\"] },\r\n    { type: <FileTextTwoTone />, suf: [\".txt\"] },\r\n    { type: <PlaySquareTwoTone />, suf: [\".mp4\"] },\r\n    {\r\n      type: <PictureTwoTone />,\r\n      suf: [\r\n        \".webp\",\r\n        \".svg\",\r\n        \".png\",\r\n        \".gif\",\r\n        \".jpg\",\r\n        \".jpeg\",\r\n        \".jfif\",\r\n        \".bmp\",\r\n        \".dpg\",\r\n      ],\r\n    },\r\n  ];\r\n  // console.log(1, file, listType);\r\n  let icon =\r\n    file.status === \"uploading\" ? <LoadingOutlined /> : <PaperClipOutlined />;\r\n  if (listType === \"picture\" || listType === \"picture-card\") {\r\n    if (listType === \"picture-card\" && file.status === \"uploading\") {\r\n      icon = <LoadingOutlined />; // or icon = 'uploading...';\r\n    } else {\r\n      fileSufIconList.forEach((item) => {\r\n        if (item.suf.includes(file.name.substr(file.name.lastIndexOf(\".\")))) {\r\n          icon = item.type;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  return icon;\r\n};\r\n\r\nexport const Announcement = (props) => {\r\n  const [status, setStatus] = useState({});\r\n  const [data, setData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasmore] = useState(true);\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetchData((res) => {\r\n      setStatus(res);\r\n      setData(res.results);\r\n    });\r\n  }, []);\r\n\r\n  const IconText = ({ icon, text }) => (\r\n    <Space>\r\n      {React.createElement(icon)}\r\n      {text}\r\n    </Space>\r\n  );\r\n\r\n  const fetchData = (callback) => {\r\n    // console.log(axios.defaults.headers.common);\r\n    axios\r\n      .get(`api/announcement/?page=${page}`)\r\n      .then((res) => callback(res.data));\r\n    setPage(page + 1);\r\n  };\r\n\r\n  const handleInfiniteOnLoad = () => {\r\n    console.log(\"hello?\");\r\n    setLoading(true);\r\n    if (status.next == null) {\r\n      // message.warning(\"Infinite List loaded all\");\r\n      setHasmore(false);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    fetchData((res) => {\r\n      let newdata = data.concat(res.results);\r\n      // cannot do page++\r\n      setStatus(res);\r\n      setData(newdata);\r\n      setLoading(false);\r\n    });\r\n  };\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          position: \"relative\",\r\n          top: \"-100px\",\r\n        }}\r\n      >\r\n        {user.is_staff ? (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => props.history.push(\"/announcement/add\")}\r\n          >\r\n            + New Announcement\r\n          </Button>\r\n        ) : (\r\n          <span></span>\r\n        )}\r\n      </div>\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={0}\r\n          loadMore={handleInfiniteOnLoad}\r\n          hasMore={!loading && hasMore}\r\n          // useWindow={false}\r\n        >\r\n          <List\r\n            itemLayout=\"vertical\"\r\n            dataSource={data}\r\n            renderItem={(item) => (\r\n              <List.Item\r\n                className=\"post-con\"\r\n                key={item.id}\r\n                onClick={() => props.history.push(`announcement/${item.id}`)}\r\n              >\r\n                <List.Item.Meta\r\n                  title={<h4>{item.title}</h4>}\r\n                  description={item.author.username}\r\n                />\r\n                {convertUTC(item.date_posted)}\r\n              </List.Item>\r\n            )}\r\n          >\r\n            {loading && hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin indicator={<LoadingOutlined />} />\r\n              </div>\r\n            )}\r\n          </List>\r\n        </InfiniteScroll>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const AnnouncementDetail = (props) => {\r\n  const [item, setItem] = useState([]);\r\n  const [error, setError] = useState(false);\r\n  const { user } = useContext(UserContext);\r\n\r\n  const fetchData = async (callback) => {\r\n    try {\r\n      let reponse = await axios\r\n        .get(`api/announcement/${props.match.params.id}/`)\r\n        .then((res) => callback(res));\r\n      return Response.status;\r\n    } catch (error) {\r\n      setError(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData((res) => setItem(res.data));\r\n  }, []);\r\n\r\n  const deletepost = async () => {\r\n    let request = await axios.delete(\r\n      `api/announcement/${props.match.params.id}/`\r\n    );\r\n    let status = await request.status;\r\n    if (status == 204) {\r\n      props.history.push({\r\n        pathname: \"/announcement\",\r\n        state: {\r\n          delete_successful: true,\r\n        },\r\n      });\r\n    } else {\r\n      console.log(request);\r\n    }\r\n  };\r\n\r\n  return item.author && !error ? (\r\n    <List.Item className=\"post-con\" key={item.id}>\r\n      {item.author.id === user.pk ? (\r\n        <div style={{ display: \"flex\", float: \"right\" }}>\r\n          <Button\r\n            icon={<EditOutlined />}\r\n            onClick={() =>\r\n              props.history.push({\r\n                pathname: `${item.id}/edit`,\r\n                state: {\r\n                  postid: item.id,\r\n                },\r\n              })\r\n            }\r\n          >\r\n            edit\r\n          </Button>\r\n          <Popconfirm\r\n            style={{ marginLeft: \"10px\" }}\r\n            placement=\"bottomRight\"\r\n            title=\"Are you sure want to delete this post?\"\r\n            onConfirm={() => deletepost()}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n            icon={<ExclamationCircleOutlined style={{ color: \"red\" }} />}\r\n          >\r\n            <Button icon={<DeleteOutlined />} danger type=\"text\">\r\n              delete\r\n            </Button>\r\n          </Popconfirm>\r\n        </div>\r\n      ) : (\r\n        <span></span>\r\n      )}\r\n      <List.Item.Meta\r\n        title={<h2>{item.title}</h2>}\r\n        description={\r\n          item.author.username + \" | \" + convertUTC(item.date_posted)\r\n        }\r\n      />\r\n      {item.content}\r\n      <div style={{ width: \"50%\", margin: \"20px\" }}>\r\n        <Upload\r\n          listType=\"picture\"\r\n          defaultFileList={[\r\n            ...item.announcefile.map((f) => {\r\n              f.uid = f.id;\r\n              f.name = fileName(f.file);\r\n              f.url = f.file;\r\n              f.status = \"done\";\r\n              return f;\r\n            }),\r\n          ]}\r\n          iconRender={handleIconRender}\r\n          disabled={true}\r\n        ></Upload>\r\n      </div>\r\n    </List.Item>\r\n  ) : (\r\n    <h3>404 Not found</h3>\r\n  );\r\n};\r\n\r\nexport const AnnouncementAdd = (props) => {\r\n  const normFile = (e) => {\r\n    console.log(\"Upload event:\", e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n  const validateMessages = {\r\n    required: \"${label} is required!\",\r\n    types: {\r\n      email: \"${label} is not a valid email!\",\r\n      number: \"${label} is not a valid number!\",\r\n    },\r\n    number: {\r\n      range: \"${label} must be between ${min} and ${max}\",\r\n    },\r\n  };\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess(\"ok\");\r\n    }, 0);\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n    const fd = new FormData();\r\n    fd.append(\"title\", values.title);\r\n    fd.append(\"content\", values.content);\r\n    if (values.upload) {\r\n      for (let i = 0; i < values.upload.length; i++) {\r\n        fd.append(\"announcefile\", values.upload[i].originFileObj);\r\n      }\r\n    }\r\n    axios\r\n      .put(\"api/announcement/\", fd, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      })\r\n      .then((res) => props.history.push(\"/announcement\"));\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      name=\"nest-messages\"\r\n      onFinish={onFinish}\r\n      validateMessages={validateMessages}\r\n      style={{ padding: \"20px\", minHeight: \"40vh\" }}\r\n    >\r\n      <Form.Item name=\"title\" label=\"Title\" rules={[{ required: true }]}>\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item name=\"content\" label=\"Content\" rules={[{ required: true }]}>\r\n        <Input.TextArea />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"upload\"\r\n        label=\"Upload\"\r\n        valuePropName=\"fileList\"\r\n        getValueFromEvent={normFile}\r\n      >\r\n        <Upload\r\n          name=\"logo\"\r\n          customRequest={dummyRequest}\r\n          listType=\"picture\"\r\n          iconRender={handleIconRender}\r\n          style={{ maxWidth: \"300px\" }}\r\n        >\r\n          <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n        </Upload>\r\n      </Form.Item>\r\n\r\n      <Form.Item style={{ float: \"right\" }}>\r\n        <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport const AnnouncementEdit = (props) => {\r\n  // console.log(props.location.state);\r\n  const [post, setPost] = useState(null);\r\n  const normFile = (e) => {\r\n    console.log(\"Upload event:\", e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n  const validateMessages = {\r\n    required: \"${label} is required!\",\r\n    types: {\r\n      email: \"${label} is not a valid email!\",\r\n      number: \"${label} is not a valid number!\",\r\n    },\r\n    number: {\r\n      range: \"${label} must be between ${min} and ${max}\",\r\n    },\r\n  };\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess(\"ok\");\r\n    }, 0);\r\n  };\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n    const fd = new FormData();\r\n    fd.append(\"title\", values.title);\r\n    fd.append(\"content\", values.content);\r\n    if (values.upload) {\r\n      let newupload = values.upload.filter((e) => !e.id);\r\n      let oldupload = values.upload.filter((e) => e.id);\r\n      let deleteoldupload = post.announcefile.filter(\r\n        (e) => !oldupload.find((f) => f.id == e.id)\r\n      );\r\n      for (const i in newupload) {\r\n        fd.append(\"announcefile\", newupload[i].originFileObj);\r\n      }\r\n      if (deleteoldupload.length) {\r\n        fd.append(\r\n          \"deletefile\",\r\n          deleteoldupload.map((e) => e.id)\r\n        );\r\n      } else {\r\n        fd.append(\"deletefile\", 0);\r\n      }\r\n      console.log(deleteoldupload);\r\n    } else {\r\n      fd.append(\"deletefile\", 0);\r\n    }\r\n    axios\r\n      .put(`api/announcement/${props.match.params.id}/`, fd, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      })\r\n      .then((res) =>\r\n        props.history.push(`/announcement/${props.match.params.id}`)\r\n      );\r\n  };\r\n\r\n  const loadData = async () => {\r\n    let request = await axios.get(`api/announcement/${props.match.params.id}/`);\r\n    let data = await request.data;\r\n    setPost(data);\r\n  };\r\n  useLayoutEffect(() => {\r\n    loadData();\r\n  }, []);\r\n  return post ? (\r\n    <Form\r\n      name=\"nest-messages\"\r\n      onFinish={onFinish}\r\n      validateMessages={validateMessages}\r\n      style={{ padding: \"20px\", minHeight: \"40vh\" }}\r\n      initialValues={{\r\n        [\"title\"]: post.title,\r\n        [\"content\"]: post.content,\r\n      }}\r\n    >\r\n      <Form.Item name=\"title\" label=\"Title\" rules={[{ required: true }]}>\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item name=\"content\" label=\"Content\" rules={[{ required: true }]}>\r\n        <Input.TextArea />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"upload\"\r\n        label=\"Upload\"\r\n        valuePropName=\"fileList\"\r\n        getValueFromEvent={normFile}\r\n      >\r\n        <Upload\r\n          name=\"logo\"\r\n          customRequest={dummyRequest}\r\n          listType=\"picture\"\r\n          iconRender={handleIconRender}\r\n          style={{ maxWidth: \"300px\" }}\r\n          defaultFileList={[\r\n            ...post.announcefile.map((f) => {\r\n              f.uid = f.id;\r\n              f.name = fileName(f.file);\r\n              f.url = f.file;\r\n              f.status = \"done\";\r\n              return f;\r\n            }),\r\n          ]}\r\n        >\r\n          <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n        </Upload>\r\n      </Form.Item>\r\n\r\n      <Form.Item style={{ float: \"right\" }}>\r\n        <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  ) : (\r\n    <h3>:3</h3>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Spin } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nconst Loading = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        height: \"50vh\",\r\n        width: \"100%\",\r\n        display: \"grid\",\r\n        placeItems: \"center\",\r\n      }}\r\n    >\r\n      <Spin indicator={<LoadingOutlined style={{ fontSize: 40 }} spin />} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  List,\r\n  message,\r\n  Spin,\r\n  Space,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Upload,\r\n  Popconfirm,\r\n  Card,\r\n} from \"antd\";\r\nimport {\r\n  LoadingOutlined,\r\n  UploadOutlined,\r\n  FilePdfTwoTone,\r\n  FileExcelTwoTone,\r\n  FileWordTwoTone,\r\n  FilePptTwoTone,\r\n  FileZipTwoTone,\r\n  FileTextTwoTone,\r\n  PlaySquareTwoTone,\r\n  PictureTwoTone,\r\n  PaperClipOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  ExclamationCircleOutlined,\r\n} from \"@ant-design/icons\";\r\nimport \"./Course.css\";\r\nimport Loading from \"../Loading\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { convertUTC, fileType, fileName } from \"../tools\";\r\n\r\nconst { Meta } = Card;\r\n\r\nconst handleIconRender = (file, listType) => {\r\n  const fileSufIconList = [\r\n    { type: <FilePdfTwoTone />, suf: [\".pdf\"] },\r\n    { type: <FileExcelTwoTone />, suf: [\".xlsx\", \".xls\", \".csv\"] },\r\n    { type: <FileWordTwoTone />, suf: [\".doc\", \".docx\"] },\r\n    { type: <FilePptTwoTone />, suf: [\".pptx\", \".ppt\", \"pptm\"] },\r\n    { type: <FileZipTwoTone />, suf: [\".zip\"] },\r\n    { type: <FileTextTwoTone />, suf: [\".txt\"] },\r\n    { type: <PlaySquareTwoTone />, suf: [\".mp4\"] },\r\n    {\r\n      type: <PictureTwoTone />,\r\n      suf: [\r\n        \".webp\",\r\n        \".svg\",\r\n        \".png\",\r\n        \".gif\",\r\n        \".jpg\",\r\n        \".jpeg\",\r\n        \".jfif\",\r\n        \".bmp\",\r\n        \".dpg\",\r\n      ],\r\n    },\r\n  ];\r\n  // console.log(1, file, listType);\r\n  let icon =\r\n    file.status === \"uploading\" ? <LoadingOutlined /> : <PaperClipOutlined />;\r\n  if (listType === \"picture\" || listType === \"picture-card\") {\r\n    if (listType === \"picture-card\" && file.status === \"uploading\") {\r\n      icon = <LoadingOutlined />; // or icon = 'uploading...';\r\n    } else {\r\n      fileSufIconList.forEach((item) => {\r\n        if (item.suf.includes(file.name.substr(file.name.lastIndexOf(\".\")))) {\r\n          icon = item.type;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  return icon;\r\n};\r\n\r\nexport const Course = (props) => {\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  useEffect(() => {\r\n    fetchData((res) => setData(res.data));\r\n  }, []);\r\n  const fetchData = async (callback) => {\r\n    let request = await axios.get(\"api/course/\");\r\n    if (request.status == 200) {\r\n      callback(request);\r\n      // console.log(request.data.results);\r\n      return;\r\n    }\r\n    setError(request.status);\r\n  };\r\n  console.log(data, error);\r\n  return data ? (\r\n    <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n      {data.results.map((course) => (\r\n        <Card\r\n          style={{ width: 200, margin: \"10px\" }}\r\n          hoverable={true}\r\n          onClick={() =>\r\n            props.history.push({\r\n              pathname: `course/${course.name}`,\r\n              state: {\r\n                course: course,\r\n              },\r\n            })\r\n          }\r\n        >\r\n          <Meta title={course.name} description=\"This is the description\" />\r\n        </Card>\r\n      ))}\r\n    </div>\r\n  ) : (\r\n    <Loading />\r\n  );\r\n};\r\n\r\nexport const CoursePost = (props) => {\r\n  // console.log(props.location.state);\r\n  const [status, setStatus] = useState({});\r\n  const [data, setData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasmore] = useState(true);\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetchData((res) => {\r\n      setStatus(res);\r\n      setData(res.results);\r\n    });\r\n  }, []);\r\n\r\n  const IconText = ({ icon, text }) => (\r\n    <Space>\r\n      {React.createElement(icon)}\r\n      {text}\r\n    </Space>\r\n  );\r\n\r\n  const fetchData = async (callback) => {\r\n    // console.log(axios.defaults.headers.common);\r\n    let course = await axios.get(\"api/course/\").then((e) => e.data.results);\r\n    console.log(course);\r\n    axios\r\n      .get(`api/course/${props.location.state.course.id}/posts/?page=${page}`)\r\n      .then((res) => callback(res.data));\r\n    setPage(page + 1);\r\n  };\r\n\r\n  const handleInfiniteOnLoad = () => {\r\n    setLoading(true);\r\n    if (status.next == null) {\r\n      // message.warning(\"Infinite List loaded all\");\r\n      setHasmore(false);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    fetchData((res) => {\r\n      let newdata = data.concat(res.results);\r\n      // cannot do page++\r\n      setStatus(res);\r\n      setData(newdata);\r\n      setLoading(false);\r\n    });\r\n  };\r\n  // console.log(page);\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          position: \"relative\",\r\n          top: \"-100px\",\r\n        }}\r\n      >\r\n        {user.is_staff ? (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() =>\r\n              props.history.push(\r\n                `/course/${props.location.state.course.name}/add`\r\n              )\r\n            }\r\n          >\r\n            + New Course Post\r\n          </Button>\r\n        ) : (\r\n          <span></span>\r\n        )}\r\n      </div>\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={0}\r\n          loadMore={handleInfiniteOnLoad}\r\n          hasMore={!loading && hasMore}\r\n          // useWindow={false}\r\n        >\r\n          <List\r\n            itemLayout=\"vertical\"\r\n            dataSource={data}\r\n            renderItem={(item) => (\r\n              <List.Item\r\n                className=\"post-con\"\r\n                key={item.id}\r\n                onClick={() => props.history.push(`course/${item.id}`)}\r\n              >\r\n                <List.Item.Meta\r\n                  title={<h4>{item.title}</h4>}\r\n                  description={item.author.username}\r\n                />\r\n                {convertUTC(item.date_posted)}\r\n              </List.Item>\r\n            )}\r\n          >\r\n            {loading && hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin indicator={<LoadingOutlined />} />\r\n              </div>\r\n            )}\r\n          </List>\r\n        </InfiniteScroll>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const CoursePostAdd = (props) => {\r\n  const { user } = useContext(UserContext);\r\n\r\n  const normFile = (e) => {\r\n    console.log(\"Upload event:\", e);\r\n    if (Array.isArray(e)) {\r\n      return e;\r\n    }\r\n    return e && e.fileList;\r\n  };\r\n  const validateMessages = {\r\n    required: \"${label} is required!\",\r\n    types: {\r\n      email: \"${label} is not a valid email!\",\r\n      number: \"${label} is not a valid number!\",\r\n    },\r\n    number: {\r\n      range: \"${label} must be between ${min} and ${max}\",\r\n    },\r\n  };\r\n  const dummyRequest = ({ file, onSuccess }) => {\r\n    setTimeout(() => {\r\n      onSuccess(\"ok\");\r\n    }, 0);\r\n  };\r\n\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n    console.log(user);\r\n    const fd = new FormData();\r\n    fd.append(\"title\", values.title);\r\n    fd.append(\"content\", values.content);\r\n    if (values.upload) {\r\n      for (let i = 0; i < values.upload.length; i++) {\r\n        fd.append(\"announcefile\", values.upload[i].originFileObj);\r\n      }\r\n    }\r\n    axios\r\n      .put(\"api/course/\", fd, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n      })\r\n      .then((res) => props.history.push(\"/announcement\"));\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      name=\"nest-messages\"\r\n      onFinish={onFinish}\r\n      validateMessages={validateMessages}\r\n      style={{ padding: \"20px\", minHeight: \"40vh\" }}\r\n    >\r\n      <Form.Item name=\"title\" label=\"Title\" rules={[{ required: true }]}>\r\n        <Input />\r\n      </Form.Item>\r\n      <Form.Item name=\"content\" label=\"Content\" rules={[{ required: true }]}>\r\n        <Input.TextArea />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"upload\"\r\n        label=\"Upload\"\r\n        valuePropName=\"fileList\"\r\n        getValueFromEvent={normFile}\r\n      >\r\n        <Upload\r\n          name=\"logo\"\r\n          customRequest={dummyRequest}\r\n          listType=\"picture\"\r\n          iconRender={handleIconRender}\r\n          style={{ maxWidth: \"300px\" }}\r\n        >\r\n          <Button icon={<UploadOutlined />}>Click to upload</Button>\r\n        </Upload>\r\n      </Form.Item>\r\n\r\n      <Form.Item style={{ float: \"right\" }}>\r\n        <Button type=\"primary\" htmlType=\"submit\" size=\"large\">\r\n          Submit\r\n        </Button>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { UserContext } from \"../../UserContext\";\r\nimport { Card, Empty, Button, List, Spin, Space } from \"antd\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\nimport Loading from \"../Loading\";\r\nimport axios from \"axios\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { convertUTC, fileType, fileName } from \"../tools\";\r\nconst { Meta } = Card;\r\nexport const Group = (props) => {\r\n  const { user } = useContext(UserContext);\r\n  return (\r\n    <div>\r\n      {user.is_members.length ? (\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n          {user.is_members.map((group) => (\r\n            <Card\r\n              key={group.id}\r\n              style={{ width: 200, margin: \"10px\" }}\r\n              hoverable={true}\r\n              onClick={() => {\r\n                console.log(props.match.params.id);\r\n                props.history.push(`group/${group.id}`);\r\n              }}\r\n            >\r\n              <Meta\r\n                title={group.name}\r\n                description={`created by ${group.created_by.username}`}\r\n              />\r\n            </Card>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <Empty\r\n          imageStyle={{\r\n            height: 80,\r\n          }}\r\n          description={<span>You haven't join any group yet</span>}\r\n        >\r\n          <Button type=\"primary\">Join Now</Button>\r\n        </Empty>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const GroupPost = (props) => {\r\n  const [status, setStatus] = useState({});\r\n  const [data, setData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasmore] = useState(true);\r\n  const { user } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetchData((res) => {\r\n      setStatus(res);\r\n      setData(res.results);\r\n    }, true);\r\n  }, [props.match.params.id]);\r\n\r\n  const IconText = ({ icon, text }) => (\r\n    <Space>\r\n      {React.createElement(icon)}\r\n      {text}\r\n    </Space>\r\n  );\r\n\r\n  const fetchData = (callback, resetpage) => {\r\n    if (resetpage) {\r\n      // console.log(\"am i joke\");\r\n      setHasmore(true);\r\n      setPage(1);\r\n      console.log(page);\r\n    }\r\n    axios\r\n      .get(`api/group/${props.match.params.id}/posts/?page=${page}`)\r\n      .then((res) => {\r\n        callback(res.data);\r\n        setPage((page) => page + 1);\r\n      });\r\n    console.log(page);\r\n  };\r\n\r\n  const handleInfiniteOnLoad = () => {\r\n    setLoading(true);\r\n    console.log(status);\r\n    if (status.next == null) {\r\n      // message.warning(\"Infinite List loaded all\");\r\n      setHasmore(false);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    fetchData((res) => {\r\n      console.log(\"omegalul\");\r\n      let newdata = data.concat(res.results);\r\n      // cannot do page++\r\n      setStatus(res);\r\n      setData(newdata);\r\n      setLoading(false);\r\n    }, false);\r\n    console.log(\"onload\");\r\n  };\r\n  // console.log(page);\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          position: \"relative\",\r\n          top: \"-100px\",\r\n        }}\r\n      >\r\n        {user.is_staff ? (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => props.history.push(\"/group/add\")}\r\n          >\r\n            + New Post\r\n          </Button>\r\n        ) : (\r\n          <span></span>\r\n        )}\r\n      </div>\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={1}\r\n          loadMore={handleInfiniteOnLoad}\r\n          hasMore={!loading && hasMore}\r\n          // useWindow={false}\r\n        >\r\n          <List\r\n            itemLayout=\"vertical\"\r\n            dataSource={data}\r\n            renderItem={(item) => (\r\n              <List.Item\r\n                className=\"post-con\"\r\n                key={item.id}\r\n                onClick={() => props.history.push(`announcement/${item.id}`)}\r\n              >\r\n                <List.Item.Meta\r\n                  title={<h4>{item.title}</h4>}\r\n                  description={item.author.username}\r\n                />\r\n                {convertUTC(item.date_posted)}\r\n              </List.Item>\r\n            )}\r\n          >\r\n            {loading && hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin indicator={<LoadingOutlined />} />\r\n              </div>\r\n            )}\r\n          </List>\r\n        </InfiniteScroll>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\r\nimport {\r\n  LoginForm,\r\n  PasswordResetForm,\r\n  PasswordResetConfirm,\r\n} from \"./containers/Login\";\r\nimport CusLayout from \"./containers/Layout\";\r\nimport {\r\n  Announcement,\r\n  AnnouncementDetail,\r\n  AnnouncementAdd,\r\n  AnnouncementEdit,\r\n} from \"./components/announcement/Announcement\";\r\nimport { Course, CoursePost, CoursePostAdd } from \"./components/course/Course\";\r\nimport { Group, GroupPost } from \"./components/group/Group\";\r\nimport { UserContext } from \"./UserContext\";\r\n\r\nconst BaseRouter = (props) => {\r\n  const {\r\n    history,\r\n    location: { pathname },\r\n  } = props;\r\n  // console.log(props.user);\r\n  return props.verify ? (\r\n    <CusLayout pathname={pathname} history={history}>\r\n      {props.user ? (\r\n        <div>\r\n          {props.user.is_staff ? (\r\n            <Switch>\r\n              <Route exact path=\"/announcement\" component={Announcement} />\r\n              <Route\r\n                exact\r\n                path=\"/announcement/add\"\r\n                component={AnnouncementAdd}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/announcement/:id\"\r\n                component={AnnouncementDetail}\r\n              />\r\n              <Route\r\n                exact\r\n                path=\"/announcement/:id/edit\"\r\n                component={AnnouncementEdit}\r\n              />\r\n              <Route exact path=\"/course\" component={Course} />\r\n              <Route exact path=\"/course/:course\" component={CoursePost} />\r\n              <Route\r\n                exact\r\n                path=\"/course/:course/add\"\r\n                component={CoursePostAdd}\r\n              />\r\n              <Route exact path=\"/group\" component={Group} />\r\n              <Route exact path=\"/group/:id\" component={GroupPost} />\r\n              <Redirect from=\"*\" to=\"/announcement\" />\r\n            </Switch>\r\n          ) : (\r\n            <Switch>\r\n              <Route exact path=\"/announcement\" component={Announcement} />\r\n              <Route\r\n                exact\r\n                path=\"/announcement/:id\"\r\n                component={AnnouncementDetail}\r\n              />\r\n              <Route exact path=\"/course\" component={Course} />\r\n              <Route exact path=\"/course/:course\" component={CoursePost} />\r\n              <Route exact path=\"/group\" component={Group} />\r\n              <Route exact path=\"/group/:id\" component={GroupPost} />\r\n              <Redirect from=\"*\" to=\"/announcement\" />\r\n            </Switch>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <Switch></Switch>\r\n      )}\r\n    </CusLayout>\r\n  ) : (\r\n    <Switch>\r\n      <Route exact path=\"/login\" component={LoginForm} />\r\n      <Route exact path=\"/password-reset\" component={PasswordResetForm} />\r\n      <Route\r\n        path=\"/password-reset-confirm/:uid/:token\"\r\n        component={PasswordResetConfirm}\r\n      />\r\n      <Redirect from=\"*\" to=\"/login\" />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default withRouter(BaseRouter);\r\n","import \"./App.less\";\nimport { useEffect, useState, useMemo } from \"react\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport CusLayout from \"./containers/Layout\";\nimport BaseRouter from \"./routes\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { CookiesProvider, useCookies } from \"react-cookie\";\nimport { UserContext } from \"./UserContext\";\n\naxios.defaults.baseURL = \"http://127.0.0.1:8000\";\n// axios.defaults.baseURL = document.location.origin\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const ProviderValue = useMemo(() => ({ user, setUser }), [user, setUser]);\n  const [cookies, setCookie, removeCookie] = useCookies([\"token\"]);\n  let boo = () => {\n    if (cookies.tkn) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${cookies.tkn}`;\n      return true;\n    }\n    return false;\n  };\n  const [verification, setverification] = useState(boo());\n  const verify = async () => {\n    try {\n      if (cookies.tkn) {\n        let res = await axios.post(\"dj-rest-auth/token/verify/\", {\n          token: cookies.tkn,\n        });\n        let stat = await res.status;\n        if (stat == 200) {\n          let userdetail = await axios.get(\"dj-rest-auth/user/\");\n          setUser(userdetail.data);\n          return true;\n        }\n        return false;\n      }\n    } catch (error) {\n      // delete axios.defaults.headers.common[\"Authorization\"];\n      removeCookie(\"tkn\");\n      console.log(\"catch error\");\n      setUser(null);\n      window.location.reload();\n      return false;\n    }\n    return false;\n  };\n\n  useEffect(() => {\n    verify().then((res) => setverification(res));\n  }, []);\n\n  // console.log(verification);\n  return (\n    <div className=\"App\">\n      <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n      <link\n        rel=\"stylesheet\"\n        href=\"https://fonts.googleapis.com/css2?family=Sarabun:wght@400&display=swap\"\n      />\n      <link\n        href=\"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined\"\n        rel=\"stylesheet\"\n      ></link>\n      <CookiesProvider>\n        <UserContext.Provider value={ProviderValue}>\n          <BrowserRouter>\n            <BaseRouter\n              href=\"this.props.href\"\n              verify={verification}\n              user={user}\n            ></BaseRouter>\n          </BrowserRouter>\n        </UserContext.Provider>\n      </CookiesProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}