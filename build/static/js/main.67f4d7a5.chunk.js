(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{175:function(e,t,s){},192:function(e,t,s){},228:function(e,t,s){},328:function(e,t,s){"use strict";s.r(t);var a=s(5),n=s(0),r=s.n(n),c=s(34),o=s.n(c),i=s(30),l=s.n(i),j=s(43),m=s(6),d=(s(175),s(57)),u=s.n(d),p=s(11),b=s(14),h=s(15),x=s(25),O=s(330),f=s(111),g=s(336),w=s(331),y=s(53),v=s(163),k=s(340),N=s(341),I=s(342),S=s(343),P=s(344),T=s(345),_=(s(192),s(332)),C=(O.a.Header,O.a.Content),E=O.a.Footer,F=O.a.Sider,R=f.a.SubMenu,z=function(e){Object(h.a)(s,e);var t=Object(x.a)(s);function s(e){var a;Object(p.a)(this,s),(a=t.call(this,e)).onCollapse=function(e){a.setState({collapsed:e})},a.customTrigger=function(){return r.a.createElement(a.state.collapsed?k.a:N.a,{className:"anticon anticon-left",style:{color:"rgba(255,255,255,0.65)",fontSize:"20px",marginTop:"15px"}})},a.logout=function(){a.props.cookies.remove("tkn"),document.location.reload()};var n=e.cookies;return a.state={collapsed:!1,token:n.get("tkn")},a}return Object(b.a)(s,[{key:"render",value:function(){var e=this.state.collapsed;return Object(a.jsxs)(O.a,{style:{minHeight:"100vh"},children:[Object(a.jsxs)(F,{trigger:this.customTrigger(),collapsible:!0,collapsed:e,onCollapse:this.onCollapse,children:[Object(a.jsx)("div",{className:"logo"}),Object(a.jsxs)(f.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(a.jsx)(f.a.Item,{icon:Object(a.jsx)(I.a,{}),children:"Announcement"},"1"),Object(a.jsx)(f.a.Item,{icon:Object(a.jsx)(S.a,{}),children:"Course"},"2"),Object(a.jsxs)(R,{icon:Object(a.jsx)(P.a,{}),title:"Team",children:[Object(a.jsx)(f.a.Item,{children:"Team 1"},"6"),Object(a.jsx)(f.a.Item,{children:"Team 2"},"8")]},"sub2")]})]}),Object(a.jsxs)(O.a,{className:"site-layout",children:[Object(a.jsx)(g.a,{className:"site-layout-background",style:{padding:"10px",backgroundColor:"#001529"},extra:[Object(a.jsxs)(w.a,{placement:"bottomRight",title:"You about to logout, are you sure?",onConfirm:this.logout,okText:"Yes",cancelText:"No",icon:Object(a.jsx)(T.a,{style:{color:"red"}}),children:[Object(a.jsx)(y.a,{type:"primary",children:"Logout"},"1"),","]})]}),Object(a.jsxs)(C,{style:{margin:"0 16px"},children:[Object(a.jsxs)(v.a,{style:{margin:"16px 0"},children:[Object(a.jsx)(v.a.Item,{children:"User"}),Object(a.jsx)(v.a.Item,{children:"Bill"})]}),Object(a.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:"Bill is a cat."})]}),Object(a.jsx)(E,{style:{textAlign:"center"},children:"Ant Design \xa92018 Created by Ant UED"})]})]})}}]),s}(r.a.Component),L=Object(_.a)(z),q=s(32),A=s(335),U=s(337),M=s(339),V=s(338),B=s(346),H=s(347),D=s(348),J=s(349),Y=(s(228),s.p+"static/media/random.a2c77e76.jpg"),K=s(333),W=s(78),G=function(){var e=Object(K.a)(["token"]),t=Object(m.a)(e,3),s=(t[0],t[1]),r=(t[2],Object(n.useState)(null)),c=Object(m.a)(r,2),o=c[0],i=c[1],d=function(){var e=Object(j.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={path:"/"},e.prev=1,e.next=4,u.a.post("dj-rest-auth/login/",{username:t.username,password:t.password});case 4:n=e.sent,s("tkn",n.data.access_token,a),window.location.reload(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"con",children:Object(a.jsxs)("div",{className:"inner-con",children:[Object(a.jsx)("div",{className:"form-container",children:Object(a.jsxs)(A.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:d,children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsx)(A.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(a.jsx)(U.a,{prefix:Object(a.jsx)(B.a,{className:"site-form-item-icon"}),placeholder:"Username"})}),Object(a.jsx)(A.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(a.jsx)(U.a,{prefix:Object(a.jsx)(H.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(a.jsxs)(A.a.Item,{children:[o?Object(a.jsx)(M.a,{message:"Wrong username or password",type:"error",showIcon:!0,style:{fontSize:"12px"}}):Object(a.jsx)("span",{}),Object(a.jsx)(A.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(a.jsx)(V.a,{children:"Remember me"})}),Object(a.jsx)("a",{className:"login-form-forgot",href:"password-reset",children:"Forgot password"})]}),Object(a.jsx)(A.a.Item,{children:Object(a.jsx)(y.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:"Log in"})})]})}),Object(a.jsx)("img",{className:"picture-container",src:Y,alt:"",width:"100",height:"100"})]})})},Q=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),s=t[0],r=t[1],c=Object(n.useState)(!1),o=Object(m.a)(c,2),i=o[0],d=o[1],p=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,u.a.post("dj-rest-auth/password/reset/",{email:t.email}).then((function(e){return d(!1)}));case 4:e.sent,r(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"con",children:Object(a.jsxs)("div",{className:"inner-con",children:[Object(a.jsx)("div",{className:"form-container reset-form",children:Object(a.jsxs)(A.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:p,children:[Object(a.jsx)("h1",{children:"Forgot password"}),Object(a.jsx)(A.a.Item,{name:"email",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your Email!"}],children:Object(a.jsx)(U.a,{prefix:Object(a.jsx)(D.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),s?Object(a.jsx)(M.a,{message:"Something went wrong...Please try again.",type:"error",showIcon:!0,closable:!0,style:{fontSize:"12px"}}):null==s?Object(a.jsx)("span",{}):Object(a.jsx)(M.a,{message:"Password Reset Link has been sended,check your mail",type:"success",showIcon:!0,style:{fontSize:"12px"}}),Object(a.jsx)("p",{children:"Reset Password link will be send to your email"}),Object(a.jsx)(A.a.Item,{children:Object(a.jsx)(y.a,{type:"primary",loading:i,htmlType:"submit",children:"Send Email"})})]})}),Object(a.jsx)("img",{className:"picture-container",src:Y,alt:"",width:"100",height:"100"})]})})},X=function(e){var t=Object(n.useState)(null),s=Object(m.a)(t,2),r=s[0],c=s[1],o=Object(n.useState)(!1),i=Object(m.a)(o,2),d=i[0],p=i[1],b=function(){var t=Object(j.a)(l.a.mark((function t(s){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,u.a.post("dj-rest-auth/password/reset/confirm/",{new_password1:s.new_password1,new_password2:s.new_password2,uid:e.match.params.uid,token:e.match.params.token}).then((function(e){return p(!1)}));case 4:t.sent,c(!1),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),c(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"con",children:Object(a.jsxs)("div",{className:"inner-con",children:[Object(a.jsx)("div",{className:"form-container",children:r||null==r?Object(a.jsxs)(A.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:b,children:[Object(a.jsx)("h1",{children:"Reset password"}),Object(a.jsx)(A.a.Item,{name:"new_password1",rules:[{required:!0,message:"Please input your new password!"},{validator:function(e,t){return t.length<8&&t.length>0?Promise.reject(new Error("Password cannot less than 8 letters")):t.length>=8?Promise.resolve():void 0}}],hasFeedback:!0,children:Object(a.jsx)(U.a,{prefix:Object(a.jsx)(J.a,{className:"site-form-item-icon"}),type:"password",placeholder:"New password"})}),Object(a.jsx)(A.a.Item,{name:"new_password2",rules:[{required:!0,message:"Please input your confirm password!"},function(e){var t=e.getFieldValue;return{validator:function(e,s){return t("new_password1")!==s?Promise.reject(new Error("New password and confirm password must be the same!")):t("new_password1")==s&&s.length>=8?Promise.resolve():s.length<8&&s.length>0?Promise.reject(new Error("Password cannot less than 8 letters")):void 0}}}],hasFeedback:!0,children:Object(a.jsx)(U.a,{prefix:Object(a.jsx)(J.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm password"})}),r?Object(a.jsx)(M.a,{message:"Something went wrong...Please try again.",type:"error",showIcon:!0,style:{fontSize:"12px"}}):null==r?Object(a.jsx)("span",{}):Object(a.jsx)(M.a,{message:"Password Reset Complete!",type:"success",showIcon:!0,style:{fontSize:"12px"}}),Object(a.jsx)(A.a.Item,{children:Object(a.jsx)(y.a,{type:"primary",loading:d,htmlType:"submit",children:"Reset"})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(M.a,{message:"Reset password success!",type:"success",showIcon:!0,style:{fontSize:"15px"}}),Object(a.jsxs)("p",{style:{float:"right",fontSize:"15px"},children:["Return to"," ",Object(a.jsx)(W.b,{to:"/login",replace:!0,children:"Log in"})]})]})}),Object(a.jsx)("img",{className:"picture-container",src:Y,alt:"",width:"100",height:"100"})]})})},Z=function(e){return console.log(e.verify),e.verify?Object(a.jsxs)(q.d,{children:[Object(a.jsx)(q.b,{exact:!0,path:"/",component:L}),Object(a.jsx)(q.a,{from:"*",to:"/"})]}):Object(a.jsxs)(q.d,{children:[Object(a.jsx)(q.b,{exact:!0,path:"/login",component:G}),Object(a.jsx)(q.b,{exact:!0,path:"/password-reset",component:Q}),Object(a.jsx)(q.b,{path:"/password-reset-confirm/:uid/:token",component:X}),Object(a.jsx)(q.a,{from:"*",to:"/login"})]})},$=s(334);u.a.defaults.baseURL="http://127.0.0.1:8000";var ee=function(){var e=Object(K.a)(["token"]),t=Object(m.a)(e,1)[0],s=Object(n.useState)(!!t.tkn),r=Object(m.a)(s,2),c=r[0],o=r[1];return function(){var e=Object(j.a)(l.a.mark((function e(){var s,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tkn){e.next=6;break}return e.next=3,u.a.post("dj-rest-auth/token/verify/",{token:t.tkn});case 3:return s=e.sent,a=s.status,e.abrupt("return",200==a);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){return o(e)})),console.log(c),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),Object(a.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Sarabun:wght@400&display=swap"}),Object(a.jsx)("link",{href:"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined",rel:"stylesheet"}),Object(a.jsx)($.a,{children:Object(a.jsx)(W.a,{children:Object(a.jsx)(Z,{href:"this.props.href",verify:c})})})]})};s(327);o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ee,{})}),document.getElementById("root"))}},[[328,1,2]]]);
//# sourceMappingURL=main.67f4d7a5.chunk.js.map